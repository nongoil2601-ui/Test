name: Delete branch manually

on:
  workflow_dispatch:
    inputs:
      branch:
        description: 'Branch name to delete'
        required: true

jobs:
  delete-branch:
    runs-on: ubuntu-latest
    permissions:
      contents: write

    steps:
      - name: Delete selected branch
        run: |
          BRANCH="${{ github.event.inputs.branch }}"
          echo "üóëÔ∏è Deleting branch: $BRANCH"

          if [ "$BRANCH" = "main" ]; then
            echo "‚ùå Refuse to delete main branch"
            exit 1
          fi

          git push origin --delete "$BRANCH"
